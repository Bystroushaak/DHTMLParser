<html><head>
        <META http-equiv="content-type" content="text/html; charset=utf-8">
        <title>dhtmlparser</title>
        </head><body>
        <h1>dhtmlparser</h1>
        <!-- Generated by Ddoc from dhtmlparser.d -->
D Module for parsing HTML in similar way like BeautifulSoup.
<br><br>
<b>Version:</b><br>
1.3.1
<br><br>
<b>Date:</b><br>
19.11.2011

<br><br>
<b>Authors:</b><br>
Bystroushaak (bystrousak@kitakitsune.org)
<br><br>
<b>Website:</b><br>
Github; https://github.com/Bystroushaak/DHTMLParser
<br><br>

<dl><dt><big>class <u>HTMLElement</u>;
</big></dt>
<dd>Container for parsed html elements.<br><br>

<dl><dt><big>HTMLElement[] <u>childs</u>;
</big></dt>
<dd>Nested tags. Encapsulation would complicate whole class much more then public property.<br><br>

</dd>
<dt><big>string[string] <u>params</u>;
</big></dt>
<dd>Tag parameters.<br><br>

</dd>
<dt><big>this();
</big></dt>
<dd>Useful as container for document (root of the DOM).<br><br>

</dd>
<dt><big>this(string <i>str</i>);
</big></dt>
<dd>Standard constructor used when parsing document from string.<br><br>

</dd>
<dt><big>this(string <i>tagname</i>, string[string] <i>params</i>);
</big></dt>
<dd>Special constructor used when creating DOM.<br><br>

</dd>
<dt><big>this(string <i>tagname</i>, string[string] <i>params</i>, HTMLElement[] <i>childs</i>);
</big></dt>
<dd>This constructor is used for creating DOM from elements.
<br><br>
<b>Example:</b><br>
<pre class="d_code"> HTMLElement e = <font color=blue>new</font> HTMLElement([
   <font color=blue>new</font> HTMLElement(<font color=red>"&lt;val&gt;"</font>,[
     <font color=blue>new</font> HTMLElement(<font color=red>"xe"</font>)
   ])
 ]);

 writeln(e);
</pre>
 Writes;
<pre class="d_code"> &lt;val&gt;
  xe
 &lt;/val&gt;
</pre>
<br><br>

</dd>
<dt><big>this(string <i>tagname</i>, HTMLElement[] <i>childs</i>);
</big></dt>
<dd>Same as previous, but with less options.<br><br>

</dd>
<dt><big>this(HTMLElement[] <i>childs</i>);
</big></dt>
<dd>Same as previous, but with less options.<br><br>

</dd>
<dt><big>HTMLElement[] <u>find</u>(string <i>tag_name</i>, string[string] <i>params</i> = null, bool function(HTMLElement) <i>fn</i> = null);
</big></dt>
<dd>Same as findAll, but returns tags without endtags. You can always get them
 from .endtag property..
<br><br>
<b>See Also:</b><br>
findAll<br><br>

</dd>
<dt><big>HTMLElement[] <u>findB</u>(string <i>tag_name</i>, string[string] <i>params</i> = null, bool function(HTMLElement) <i>fn</i> = null);
</big></dt>
<dd>Same as findAllB, but returns tags without endtags. You can always get them
 from .endtag property..
<br><br>
<b>See Also:</b><br>
findAll<br><br>

</dd>
<dt><big>HTMLElement[] <u>findAll</u>(string <i>tag_name</i>, string[string] <i>params</i> = null, bool function(HTMLElement) <i>fn</i> = null);
</big></dt>
<dd>Simple search engine (depth-first algorithm - http://en.wikipedia.org/wiki/Depth-first_search).
<br><br>
Finds elements and subelements which match patterns given by parameters.
 Allows searching defined by users lambda function.

<br><br>
<b>Params:</b><br>
<table><tr><td>string <i>tag_name</i></td>
<td>Name of searched element.</td></tr>
<tr><td>string[string] <i>params</i></td>
<td>Associative array containing searched parameters</td></tr>
<tr><td>bool function(HTMLElement) <i>fn</i></td>
<td>User defined function. Function takes elements and returns <b>true</b> if wanted.</td></tr>
</table><br>
<b>Examples:</b><br>
<pre class="d_code"> <font color=blue>import</font> std.stdio;

 HTMLElement dom = parseString(<font color=red>"&lt;div id='xe' a='b'&gt;obsah xe divu&lt;/div&gt;&lt;div id='xu' a='b'&gt;obsah xu divu&lt;/div&gt;"</font>);

 writeln(dom);

 <font color=green>// writes:
</font> &lt;div a=<font color=red>"b"</font> id=<font color=red>"xe"</font>&gt;
   obsah xe divu
 &lt;/div&gt;
 &lt;div a=<font color=red>"b"</font> id=<font color=red>"xu"</font>&gt;
   obsah xu divu
 &lt;/div&gt;
</pre>
 Search by parameters;
<pre class="d_code"> writeln(dom.find(<font color=red>"div"</font>, [<font color=red>"id"</font>:<font color=red>"xe"</font>]))

 <font color=green>// writes:
</font> [&lt;div a=<font color=red>"b"</font> id=<font color=red>"xe"</font>&gt;
   obsah xe divu
 &lt;/div&gt;
 ]
</pre>
 Search by lambda function;
<pre class="d_code"> writeln(dom.find(<font color=blue>null</font>, <font color=blue>null</font>, <font color=blue>function</font>(HTMLElement e){<font color=blue>return</font> (<font color=red>"id"</font> <font color=blue>in</font> e.<i>params</i> &amp;&amp; e.<i>params</i>[<font color=red>"id"</font>] == <font color=red>"xu"</font>);}));

 <font color=green>// writes:
</font> [&lt;div a=<font color=red>"b"</font> id=<font color=red>"xu"</font>&gt;
   obsah xu divu
 &lt;/div&gt;
 ]
</pre>

<br><br>
<b>Returns:</b><br>
Array of matching elements.<br><br>

</dd>
<dt><big>HTMLElement[] <u>findAllB</u>(string <i>tag_name</i>, string[string] <i>params</i> = null, bool function(HTMLElement) <i>fn</i> = null, bool <i>_first</i> = true);
</big></dt>
<dd>Simple search engine using Breadth-first algorithm - http://en.wikipedia.org/wiki/Breadth-first_search
<br><br>
Finds elements and subelements which match patterns given by parameters.
 Allows searching defined by users lambda function.

<br><br>
<b>Params:</b><br>
<table><tr><td>string <i>tag_name</i></td>
<td>Name of searched element.</td></tr>
<tr><td>string[string] <i>params</i></td>
<td>Associative array containing searched parameters</td></tr>
<tr><td>bool function(HTMLElement) <i>fn</i></td>
<td>User defined function. Function takes elements and returns <b>true</b> if wanted.</td></tr>
</table><br>
<b>Returns:</b><br>
Array of matching elements.

<br><br>
<b>See Also:</b><br>
findAll<br><br>

</dd>
<dt><big>bool <u>isTag</u>();
</big></dt>
<dd>True if element is tag (not content).<br><br>

</dd>
<dt><big>bool <u>isEndTag</u>();
</big></dt>
<dd>True if HTMLElement is end tag (/tag).<br><br>

</dd>
<dt><big>bool <u>isNonPairTag</u>();
</big></dt>
<dd>True if HTMLElement is nonpair tag (br for example).<br><br>

</dd>
<dt><big>bool <u>isComment</u>();
</big></dt>
<dd>True if HTMLElement is html comment.<br><br>

</dd>
<dt><big>bool <u>isOpeningTag</u>();
</big></dt>
<dd>True if is opening tag.<br><br>

</dd>
<dt><big>bool <u>isEndTagTo</u>(HTMLElement <i>opener</i>);
</big></dt>
<dd>Returns <b>true</b>, if this element is endtag to <i>opener</i>.<br><br>

</dd>
<dt><big>string <u>tagToString</u>();
</big></dt>
<dd>Returns tag (with parameters), without content or endtag.<br><br>

</dd>
<dt><big>string <u>getTagName</u>();
</big></dt>
<dd>Returns tag name.<br><br>

</dd>
<dt><big>string <u>getContent</u>();
</big></dt>
<dd>Returns content of tag (everything between opener and endtag).<br><br>

</dd>
<dt><big>string <u>prettify</u>(uint <i>depth</i> = 0, string <i>separator</i> = "  ", bool <i>last</i> = true, bool <i>pre</i> = false, bool <i>inline</i> = false);
</big></dt>
<dd>Returns prettifyied tag with content. Same as toString().
<br><br>
<b>See Also:</b><br>
toString()<br><br>

</dd>
<dt><big>string <u>toString</u>();
</big></dt>
<dd>Returns prettifyied tag with content.
<br><br>
<b>See Also:</b><br>
prettify()<br><br>

</dd>
<dt><big>bool <u>isAlmostEqual</u>(string <i>tag_name</i>, string[string] <i>params</i> = null, bool function(HTMLElement) <i>fn</i> = null);
</big></dt>
<dd>Compare element with given tagname, <i>params</i> and/or by lambda function.
<br><br>
Lambda function is same as in .find().<br><br>

</dd>
<dt><big>void <u>replaceWith</u>(HTMLElement <i>el</i>);
</big></dt>
<dd>Replace element.
<br><br>
Useful when you don't want change manually all references to object.<br><br>

</dd>
<dt><big>void <u>removeChild</u>(HTMLElement <i>child</i>, bool <i>end_tag_too</i> = true);
</big></dt>
<dd>Remove subelement (<i>child</i>) specified by reference.
<br><br>
This can't be used for removing subelements by value! If you want do such
 thing, do:
<br><br>

<pre class="d_code"> <font color=blue>foreach</font>(e; dom.find(<font color=red>"value"</font>))
     dom.<u>removeChild</u>(e);
</pre>

<br><br>
<b>Params:</b><br>
<table><tr><td>HTMLElement <i>child</i></td>
<td><i>child</i> which will be removed from dom (compared by reference)</td></tr>
<tr><td>bool <i>end_tag_too</i></td>
<td>remove end tag too - default <b>true</b></td></tr>
</table><br>

</dd>
</dl>
</dd>
<dt><big>static HTMLElement <u>parseString</u>(string <i>txt</i>);
</big></dt>
<dd>Parse given string and return DOM from HTMLElements.
<br><br>
<b>See Also:</b><br>
HTMLElement<br><br>

</dd>
</dl>

        <hr><small>Page generated by <a href="http://www.digitalmars.com/d/2.0/ddoc.html">Ddoc</a>. This work is licensed under a CC BY (http://creativecommons.org/licenses/by/3.0/)</small>
        </body></html>
